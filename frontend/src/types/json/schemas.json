{
  "APISetting": {
    "title": "APISetting",
    "type": "object",
    "properties": {
      "openai_base_url": {
        "title": "Openai Base Url",
        "type": "string",
        "default": "https://api.openai.com/v1/"
      },
      "connect_timeout": {
        "title": "Connect Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 10
      },
      "read_timeout": {
        "title": "Read Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 10
      }
    }
  },
  "ApiChatMessageMetadata": {
    "title": "ApiChatMessageMetadata",
    "type": "object",
    "properties": {
      "usage": {
        "title": "OpenAIChatResponseUsage",
        "type": "object",
        "properties": {
          "prompt_tokens": {
            "title": "Prompt Tokens",
            "type": "integer"
          },
          "completion_tokens": {
            "title": "Completion Tokens",
            "type": "integer"
          }
        }
      },
      "finish_reason": {
        "title": "Finish Reason",
        "type": "string"
      }
    }
  },
  "ApiChatModels": {
    "title": "ApiChatModels",
    "enum": [
      "gpt_3_5",
      "gpt_4"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "ApiConversationSchema": {
    "title": "ApiConversationSchema",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "type": {
        "title": "Type",
        "enum": [
          "api"
        ],
        "type": "string",
        "default": "api"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "ApiPerModelAskCount": {
    "title": "ApiPerModelAskCount",
    "required": [
      "gpt_3_5",
      "gpt_4"
    ],
    "type": "object",
    "properties": {
      "gpt_3_5": {
        "title": "Gpt 3 5",
        "type": "integer"
      },
      "gpt_4": {
        "title": "Gpt 4",
        "type": "integer"
      }
    }
  },
  "ApiSourceSettingSchema": {
    "title": "ApiSourceSettingSchema",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count",
      "allow_custom_openai_api",
      "custom_openai_api_settings"
    ],
    "type": "object",
    "properties": {
      "allow_to_use": {
        "title": "Allow To Use",
        "type": "boolean"
      },
      "valid_until": {
        "title": "Valid Until",
        "type": "string",
        "format": "date-time"
      },
      "max_conv_count": {
        "title": "Max Conv Count",
        "type": "integer"
      },
      "total_ask_count": {
        "title": "Total Ask Count",
        "type": "integer"
      },
      "rate_limits": {
        "title": "Rate Limits",
        "type": "array",
        "items": {
          "title": "TimeWindowRateLimit",
          "required": [
            "window_seconds",
            "max_requests"
          ],
          "type": "object",
          "properties": {
            "window_seconds": {
              "title": "Window Seconds",
              "type": "integer",
              "description": "时间窗口大小，单位为秒"
            },
            "max_requests": {
              "title": "Max Requests",
              "type": "integer",
              "description": "在给定时间窗口内最多的请求次数"
            }
          }
        }
      },
      "daily_available_time_slots": {
        "title": "Daily Available Time Slots",
        "type": "array",
        "items": {
          "title": "DailyTimeSlot",
          "required": [
            "start_time",
            "end_time"
          ],
          "type": "object",
          "properties": {
            "start_time": {
              "title": "Start Time",
              "type": "string",
              "description": "每天可使用的开始时间",
              "format": "time"
            },
            "end_time": {
              "title": "End Time",
              "type": "string",
              "description": "每天可使用的结束时间",
              "format": "time"
            }
          }
        }
      },
      "available_models": {
        "type": "array",
        "items": {
          "title": "ApiChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_4"
          ],
          "type": "string",
          "description": "An enumeration."
        }
      },
      "per_model_ask_count": {
        "title": "ApiPerModelAskCount",
        "required": [
          "gpt_3_5",
          "gpt_4"
        ],
        "type": "object",
        "properties": {
          "gpt_3_5": {
            "title": "Gpt 3 5",
            "type": "integer"
          },
          "gpt_4": {
            "title": "Gpt 4",
            "type": "integer"
          }
        }
      },
      "allow_custom_openai_api": {
        "title": "Allow Custom Openai Api",
        "type": "boolean"
      },
      "custom_openai_api_settings": {
        "title": "CustomOpenaiApiSettings",
        "type": "object",
        "properties": {
          "url": {
            "title": "Url",
            "type": "string"
          },
          "key": {
            "title": "Key",
            "type": "string"
          }
        }
      }
    }
  },
  "AskRequest": {
    "title": "AskRequest",
    "required": [
      "type",
      "model",
      "new_conversation",
      "content"
    ],
    "type": "object",
    "properties": {
      "type": {
        "title": "ChatSourceTypes",
        "enum": [
          "rev",
          "api"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "new_conversation": {
        "title": "New Conversation",
        "type": "boolean"
      },
      "new_title": {
        "title": "New Title",
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "api_context_message_count": {
        "title": "Api Context Message Count",
        "minimum": -1,
        "type": "integer",
        "default": -1
      },
      "content": {
        "title": "Content",
        "type": "string"
      }
    }
  },
  "AskResponse": {
    "title": "AskResponse",
    "required": [
      "type"
    ],
    "type": "object",
    "properties": {
      "type": {
        "title": "AskResponseType",
        "enum": [
          "waiting",
          "queueing",
          "message",
          "error"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "tip": {
        "title": "Tip",
        "type": "string"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "message": {
        "title": "ChatMessage",
        "required": [
          "id",
          "role",
          "children",
          "content"
        ],
        "type": "object",
        "properties": {
          "id": {
            "title": "Id",
            "type": "string",
            "format": "uuid"
          },
          "role": {
            "title": "Role",
            "type": "string"
          },
          "model": {
            "title": "Model",
            "type": "string"
          },
          "create_time": {
            "title": "Create Time",
            "type": "string",
            "format": "date-time"
          },
          "parent": {
            "title": "Parent",
            "type": "string",
            "format": "uuid"
          },
          "children": {
            "title": "Children",
            "type": "array",
            "items": {
              "type": "string",
              "format": "uuid"
            }
          },
          "content": {
            "title": "Content",
            "type": "string"
          },
          "content_type": {
            "title": "Content Type",
            "type": "string"
          },
          "rev_metadata": {
            "title": "RevChatMessageMetadata",
            "type": "object",
            "properties": {
              "finish_details": {
                "title": "Finish Details",
                "type": "object"
              },
              "weight": {
                "title": "Weight",
                "type": "number"
              },
              "end_turn": {
                "title": "End Turn",
                "type": "boolean"
              },
              "status": {
                "title": "Status",
                "type": "string"
              },
              "recipient": {
                "title": "Recipient",
                "anyOf": [
                  {
                    "enum": [
                      "all"
                    ],
                    "type": "string"
                  },
                  {
                    "type": "string"
                  }
                ]
              },
              "invoked_plugin": {
                "title": "RevChatMessageMetadataPlugin",
                "type": "object",
                "properties": {
                  "http_response_status": {
                    "title": "Http Response Status",
                    "type": "integer"
                  },
                  "namespace": {
                    "title": "Namespace",
                    "type": "string"
                  },
                  "plugin_id": {
                    "title": "Plugin Id",
                    "type": "string"
                  },
                  "type": {
                    "title": "Type",
                    "type": "string"
                  }
                }
              }
            }
          },
          "api_metadata": {
            "title": "ApiChatMessageMetadata",
            "type": "object",
            "properties": {
              "usage": {
                "title": "OpenAIChatResponseUsage",
                "type": "object",
                "properties": {
                  "prompt_tokens": {
                    "title": "Prompt Tokens",
                    "type": "integer"
                  },
                  "completion_tokens": {
                    "title": "Completion Tokens",
                    "type": "integer"
                  }
                }
              },
              "finish_reason": {
                "title": "Finish Reason",
                "type": "string"
              }
            }
          }
        }
      },
      "error_detail": {
        "title": "Error Detail",
        "type": "string"
      }
    }
  },
  "AskResponseType": {
    "title": "AskResponseType",
    "enum": [
      "waiting",
      "queueing",
      "message",
      "error"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "AuthSetting": {
    "title": "AuthSetting",
    "type": "object",
    "properties": {
      "jwt_secret": {
        "title": "Jwt Secret",
        "type": "string",
        "default": "MODIFY_THIS_TO_RANDOM_SECRET"
      },
      "jwt_lifetime_seconds": {
        "title": "Jwt Lifetime Seconds",
        "minimum": 1,
        "type": "integer",
        "default": 86400
      },
      "cookie_max_age": {
        "title": "Cookie Max Age",
        "minimum": 1,
        "type": "integer",
        "default": 86400
      },
      "cookie_name": {
        "title": "Cookie Name",
        "type": "string",
        "default": "user_auth"
      },
      "user_secret": {
        "title": "User Secret",
        "type": "string",
        "default": "MODIFY_THIS_TO_RANDOM_SECRET"
      }
    }
  },
  "BaseConversationSchema": {
    "title": "BaseConversationSchema",
    "required": [
      "type"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "type": {
        "title": "ChatSourceTypes",
        "enum": [
          "rev",
          "api"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "Body_auth_jwt_login_auth_login_post": {
    "title": "Body_auth_jwt_login_auth_login_post",
    "required": [
      "username",
      "password"
    ],
    "type": "object",
    "properties": {
      "grant_type": {
        "title": "Grant Type",
        "pattern": "password",
        "type": "string"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "password": {
        "title": "Password",
        "type": "string"
      },
      "scope": {
        "title": "Scope",
        "type": "string",
        "default": ""
      },
      "client_id": {
        "title": "Client Id",
        "type": "string"
      },
      "client_secret": {
        "title": "Client Secret",
        "type": "string"
      }
    }
  },
  "ChatMessage": {
    "title": "ChatMessage",
    "required": [
      "id",
      "role",
      "children",
      "content"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string",
        "format": "uuid"
      },
      "role": {
        "title": "Role",
        "type": "string"
      },
      "model": {
        "title": "Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "parent": {
        "title": "Parent",
        "type": "string",
        "format": "uuid"
      },
      "children": {
        "title": "Children",
        "type": "array",
        "items": {
          "type": "string",
          "format": "uuid"
        }
      },
      "content": {
        "title": "Content",
        "type": "string"
      },
      "content_type": {
        "title": "Content Type",
        "type": "string"
      },
      "rev_metadata": {
        "title": "RevChatMessageMetadata",
        "type": "object",
        "properties": {
          "finish_details": {
            "title": "Finish Details",
            "type": "object"
          },
          "weight": {
            "title": "Weight",
            "type": "number"
          },
          "end_turn": {
            "title": "End Turn",
            "type": "boolean"
          },
          "status": {
            "title": "Status",
            "type": "string"
          },
          "recipient": {
            "title": "Recipient",
            "anyOf": [
              {
                "enum": [
                  "all"
                ],
                "type": "string"
              },
              {
                "type": "string"
              }
            ]
          },
          "invoked_plugin": {
            "title": "RevChatMessageMetadataPlugin",
            "type": "object",
            "properties": {
              "http_response_status": {
                "title": "Http Response Status",
                "type": "integer"
              },
              "namespace": {
                "title": "Namespace",
                "type": "string"
              },
              "plugin_id": {
                "title": "Plugin Id",
                "type": "string"
              },
              "type": {
                "title": "Type",
                "type": "string"
              }
            }
          }
        }
      },
      "api_metadata": {
        "title": "ApiChatMessageMetadata",
        "type": "object",
        "properties": {
          "usage": {
            "title": "OpenAIChatResponseUsage",
            "type": "object",
            "properties": {
              "prompt_tokens": {
                "title": "Prompt Tokens",
                "type": "integer"
              },
              "completion_tokens": {
                "title": "Completion Tokens",
                "type": "integer"
              }
            }
          },
          "finish_reason": {
            "title": "Finish Reason",
            "type": "string"
          }
        }
      }
    }
  },
  "ChatSourceTypes": {
    "title": "ChatSourceTypes",
    "enum": [
      "rev",
      "api"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "CommonSetting": {
    "title": "CommonSetting",
    "type": "object",
    "properties": {
      "print_sql": {
        "title": "Print Sql",
        "type": "boolean",
        "default": false
      },
      "create_initial_admin_user": {
        "title": "Create Initial Admin User",
        "type": "boolean",
        "default": true
      },
      "initial_admin_user_username": {
        "title": "Initial Admin User Username",
        "type": "string",
        "default": "admin"
      },
      "initial_admin_user_password": {
        "title": "Initial Admin User Password",
        "type": "string",
        "default": "password"
      },
      "sync_conversations_on_startup": {
        "title": "Sync Conversations On Startup",
        "type": "boolean",
        "default": true
      },
      "sync_conversations_regularly": {
        "title": "Sync Conversations Regularly",
        "type": "boolean",
        "default": true
      }
    }
  },
  "ConfigModel": {
    "title": "ConfigModel",
    "type": "object",
    "properties": {
      "common": {
        "title": "Common",
        "allOf": [
          {
            "title": "CommonSetting",
            "type": "object",
            "properties": {
              "print_sql": {
                "title": "Print Sql",
                "type": "boolean",
                "default": false
              },
              "create_initial_admin_user": {
                "title": "Create Initial Admin User",
                "type": "boolean",
                "default": true
              },
              "initial_admin_user_username": {
                "title": "Initial Admin User Username",
                "type": "string",
                "default": "admin"
              },
              "initial_admin_user_password": {
                "title": "Initial Admin User Password",
                "type": "string",
                "default": "password"
              },
              "sync_conversations_on_startup": {
                "title": "Sync Conversations On Startup",
                "type": "boolean",
                "default": true
              },
              "sync_conversations_regularly": {
                "title": "Sync Conversations Regularly",
                "type": "boolean",
                "default": true
              }
            }
          }
        ],
        "default": {
          "print_sql": false,
          "create_initial_admin_user": true,
          "initial_admin_user_username": "admin",
          "initial_admin_user_password": "password",
          "sync_conversations_on_startup": true,
          "sync_conversations_regularly": true
        }
      },
      "http": {
        "title": "Http",
        "allOf": [
          {
            "title": "HttpSetting",
            "type": "object",
            "properties": {
              "host": {
                "title": "Host",
                "type": "string",
                "default": "127.0.0.1"
              },
              "port": {
                "title": "Port",
                "maximum": 65535,
                "minimum": 1,
                "type": "integer",
                "default": 8000
              },
              "cors_allow_origins": {
                "title": "Cors Allow Origins",
                "type": "array",
                "items": {
                  "type": "string"
                },
                "default": [
                  "http://localhost",
                  "http://127.0.0.1"
                ]
              }
            }
          }
        ],
        "default": {
          "host": "127.0.0.1",
          "port": 8000,
          "cors_allow_origins": [
            "http://localhost",
            "http://127.0.0.1"
          ]
        }
      },
      "data": {
        "title": "Data",
        "allOf": [
          {
            "title": "DataSetting",
            "type": "object",
            "properties": {
              "data_dir": {
                "title": "Data Dir",
                "type": "string",
                "default": "./data"
              },
              "database_url": {
                "title": "Database Url",
                "type": "string",
                "default": "sqlite+aiosqlite:///data/database.db"
              },
              "mongodb_url": {
                "title": "Mongodb Url",
                "type": "string",
                "default": "mongodb://cws:password@localhost:27017"
              },
              "run_migration": {
                "title": "Run Migration",
                "type": "boolean",
                "default": false
              }
            }
          }
        ],
        "default": {
          "data_dir": "./data",
          "database_url": "sqlite+aiosqlite:///data/database.db",
          "mongodb_url": "mongodb://cws:password@localhost:27017",
          "run_migration": false
        }
      },
      "auth": {
        "title": "Auth",
        "allOf": [
          {
            "title": "AuthSetting",
            "type": "object",
            "properties": {
              "jwt_secret": {
                "title": "Jwt Secret",
                "type": "string",
                "default": "MODIFY_THIS_TO_RANDOM_SECRET"
              },
              "jwt_lifetime_seconds": {
                "title": "Jwt Lifetime Seconds",
                "minimum": 1,
                "type": "integer",
                "default": 86400
              },
              "cookie_max_age": {
                "title": "Cookie Max Age",
                "minimum": 1,
                "type": "integer",
                "default": 86400
              },
              "cookie_name": {
                "title": "Cookie Name",
                "type": "string",
                "default": "user_auth"
              },
              "user_secret": {
                "title": "User Secret",
                "type": "string",
                "default": "MODIFY_THIS_TO_RANDOM_SECRET"
              }
            }
          }
        ],
        "default": {
          "jwt_secret": "MODIFY_THIS_TO_RANDOM_SECRET",
          "jwt_lifetime_seconds": 86400,
          "cookie_max_age": 86400,
          "cookie_name": "user_auth",
          "user_secret": "MODIFY_THIS_TO_RANDOM_SECRET"
        }
      },
      "revchatgpt": {
        "title": "Revchatgpt",
        "allOf": [
          {
            "title": "RevChatGPTSetting",
            "type": "object",
            "properties": {
              "is_plus_account": {
                "title": "Is Plus Account",
                "type": "boolean",
                "default": false
              },
              "chatgpt_base_url": {
                "title": "Chatgpt Base Url",
                "type": "string"
              },
              "ask_timeout": {
                "title": "Ask Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 600
              }
            }
          }
        ],
        "default": {
          "is_plus_account": false,
          "ask_timeout": 600
        }
      },
      "api": {
        "title": "Api",
        "allOf": [
          {
            "title": "APISetting",
            "type": "object",
            "properties": {
              "openai_base_url": {
                "title": "Openai Base Url",
                "type": "string",
                "default": "https://api.openai.com/v1/"
              },
              "connect_timeout": {
                "title": "Connect Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 10
              },
              "read_timeout": {
                "title": "Read Timeout",
                "minimum": 1,
                "type": "integer",
                "default": 10
              }
            }
          }
        ],
        "default": {
          "openai_base_url": "https://api.openai.com/v1/",
          "connect_timeout": 10,
          "read_timeout": 10
        }
      },
      "log": {
        "title": "Log",
        "allOf": [
          {
            "title": "LogSetting",
            "type": "object",
            "properties": {
              "log_dir": {
                "title": "Log Dir",
                "type": "string",
                "default": "logs"
              },
              "console_log_level": {
                "title": "Console Log Level",
                "enum": [
                  "INFO",
                  "DEBUG",
                  "WARNING"
                ],
                "type": "string",
                "default": "INFO"
              }
            }
          }
        ],
        "default": {
          "log_dir": "logs",
          "console_log_level": "INFO"
        }
      },
      "stats": {
        "title": "Stats",
        "allOf": [
          {
            "title": "StatsSetting",
            "type": "object",
            "properties": {
              "request_counter_time_window": {
                "title": "Request Counter Time Window",
                "type": "integer",
                "default": 2592000
              },
              "request_counts_interval": {
                "title": "Request Counts Interval",
                "type": "integer",
                "default": 1800
              },
              "ask_log_time_window": {
                "title": "Ask Log Time Window",
                "type": "integer",
                "default": 604800
              }
            }
          }
        ],
        "default": {
          "request_counter_time_window": 2592000,
          "request_counts_interval": 1800,
          "ask_log_time_window": 604800
        }
      }
    }
  },
  "ConversationHistoryDocument": {
    "title": "ConversationHistoryDocument",
    "required": [
      "type",
      "title",
      "create_time",
      "update_time",
      "mapping"
    ],
    "type": "object",
    "properties": {
      "_id": {
        "title": " Id",
        "type": "string",
        "format": "uuid"
      },
      "type": {
        "title": "Type",
        "enum": [
          "rev",
          "api"
        ],
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      },
      "mapping": {
        "title": "Mapping",
        "type": "object",
        "additionalProperties": {
          "title": "ChatMessage",
          "required": [
            "id",
            "role",
            "children",
            "content"
          ],
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string",
              "format": "uuid"
            },
            "role": {
              "title": "Role",
              "type": "string"
            },
            "model": {
              "title": "Model",
              "type": "string"
            },
            "create_time": {
              "title": "Create Time",
              "type": "string",
              "format": "date-time"
            },
            "parent": {
              "title": "Parent",
              "type": "string",
              "format": "uuid"
            },
            "children": {
              "title": "Children",
              "type": "array",
              "items": {
                "type": "string",
                "format": "uuid"
              }
            },
            "content": {
              "title": "Content",
              "type": "string"
            },
            "content_type": {
              "title": "Content Type",
              "type": "string"
            },
            "rev_metadata": {
              "title": "RevChatMessageMetadata",
              "type": "object",
              "properties": {
                "finish_details": {
                  "title": "Finish Details",
                  "type": "object"
                },
                "weight": {
                  "title": "Weight",
                  "type": "number"
                },
                "end_turn": {
                  "title": "End Turn",
                  "type": "boolean"
                },
                "status": {
                  "title": "Status",
                  "type": "string"
                },
                "recipient": {
                  "title": "Recipient",
                  "anyOf": [
                    {
                      "enum": [
                        "all"
                      ],
                      "type": "string"
                    },
                    {
                      "type": "string"
                    }
                  ]
                },
                "invoked_plugin": {
                  "title": "RevChatMessageMetadataPlugin",
                  "type": "object",
                  "properties": {
                    "http_response_status": {
                      "title": "Http Response Status",
                      "type": "integer"
                    },
                    "namespace": {
                      "title": "Namespace",
                      "type": "string"
                    },
                    "plugin_id": {
                      "title": "Plugin Id",
                      "type": "string"
                    },
                    "type": {
                      "title": "Type",
                      "type": "string"
                    }
                  }
                }
              }
            },
            "api_metadata": {
              "title": "ApiChatMessageMetadata",
              "type": "object",
              "properties": {
                "usage": {
                  "title": "OpenAIChatResponseUsage",
                  "type": "object",
                  "properties": {
                    "prompt_tokens": {
                      "title": "Prompt Tokens",
                      "type": "integer"
                    },
                    "completion_tokens": {
                      "title": "Completion Tokens",
                      "type": "integer"
                    }
                  }
                },
                "finish_reason": {
                  "title": "Finish Reason",
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "current_node": {
        "title": "Current Node",
        "type": "string",
        "format": "uuid"
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "rev_extra": {
        "title": "RevConversationHistoryExtra",
        "type": "object",
        "properties": {
          "moderation_results": {
            "title": "Moderation Results",
            "type": "array",
            "items": {}
          },
          "plugin_ids": {
            "title": "Plugin Ids",
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    },
    "description": "Document Mapping class.\n\nFields:\n\n- `id` - MongoDB document ObjectID \"_id\" field.\nMapped to the PydanticObjectId class\n\nInherited from:\n\n- Pydantic BaseModel\n- [UpdateMethods](https://roman-right.github.io/beanie/api/interfaces/#aggregatemethods)"
  },
  "CredentialsModel": {
    "title": "CredentialsModel",
    "type": "object",
    "properties": {
      "chatgpt_access_token": {
        "title": "Chatgpt Access Token",
        "type": "string"
      },
      "openai_api_key": {
        "title": "Openai Api Key",
        "type": "string"
      }
    }
  },
  "CustomOpenaiApiSettings": {
    "title": "CustomOpenaiApiSettings",
    "type": "object",
    "properties": {
      "url": {
        "title": "Url",
        "type": "string"
      },
      "key": {
        "title": "Key",
        "type": "string"
      }
    }
  },
  "DailyTimeSlot": {
    "title": "DailyTimeSlot",
    "required": [
      "start_time",
      "end_time"
    ],
    "type": "object",
    "properties": {
      "start_time": {
        "title": "Start Time",
        "type": "string",
        "description": "每天可使用的开始时间",
        "format": "time"
      },
      "end_time": {
        "title": "End Time",
        "type": "string",
        "description": "每天可使用的结束时间",
        "format": "time"
      }
    }
  },
  "DataSetting": {
    "title": "DataSetting",
    "type": "object",
    "properties": {
      "data_dir": {
        "title": "Data Dir",
        "type": "string",
        "default": "./data"
      },
      "database_url": {
        "title": "Database Url",
        "type": "string",
        "default": "sqlite+aiosqlite:///data/database.db"
      },
      "mongodb_url": {
        "title": "Mongodb Url",
        "type": "string",
        "default": "mongodb://cws:password@localhost:27017"
      },
      "run_migration": {
        "title": "Run Migration",
        "type": "boolean",
        "default": false
      }
    }
  },
  "ErrorModel": {
    "title": "ErrorModel",
    "required": [
      "detail"
    ],
    "type": "object",
    "properties": {
      "detail": {
        "title": "Detail",
        "anyOf": [
          {
            "type": "string"
          },
          {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            }
          }
        ]
      }
    }
  },
  "HTTPValidationError": {
    "title": "HTTPValidationError",
    "type": "object",
    "properties": {
      "detail": {
        "title": "Detail",
        "type": "array",
        "items": {
          "title": "ValidationError",
          "required": [
            "loc",
            "msg",
            "type"
          ],
          "type": "object",
          "properties": {
            "loc": {
              "title": "Location",
              "type": "array",
              "items": {
                "anyOf": [
                  {
                    "type": "string"
                  },
                  {
                    "type": "integer"
                  }
                ]
              }
            },
            "msg": {
              "title": "Message",
              "type": "string"
            },
            "type": {
              "title": "Error Type",
              "type": "string"
            }
          }
        }
      }
    }
  },
  "HttpSetting": {
    "title": "HttpSetting",
    "type": "object",
    "properties": {
      "host": {
        "title": "Host",
        "type": "string",
        "default": "127.0.0.1"
      },
      "port": {
        "title": "Port",
        "maximum": 65535,
        "minimum": 1,
        "type": "integer",
        "default": 8000
      },
      "cors_allow_origins": {
        "title": "Cors Allow Origins",
        "type": "array",
        "items": {
          "type": "string"
        },
        "default": [
          "http://localhost",
          "http://127.0.0.1"
        ]
      }
    }
  },
  "LogFilterOptions": {
    "title": "LogFilterOptions",
    "type": "object",
    "properties": {
      "max_lines": {
        "title": "Max Lines",
        "type": "integer",
        "default": 100
      },
      "exclude_keywords": {
        "title": "Exclude Keywords",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "LogSetting": {
    "title": "LogSetting",
    "type": "object",
    "properties": {
      "log_dir": {
        "title": "Log Dir",
        "type": "string",
        "default": "logs"
      },
      "console_log_level": {
        "title": "Console Log Level",
        "enum": [
          "INFO",
          "DEBUG",
          "WARNING"
        ],
        "type": "string",
        "default": "INFO"
      }
    }
  },
  "OpenAIChatPlugin": {
    "title": "OpenAIChatPlugin",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string"
      },
      "namespace": {
        "title": "Namespace",
        "type": "string"
      },
      "manifest": {
        "title": "OpenAIChatPluginManifest",
        "type": "object",
        "properties": {
          "api": {
            "title": "Api",
            "type": "object"
          },
          "auth": {
            "title": "Auth",
            "type": "object"
          },
          "logo_url": {
            "title": "Logo Url",
            "type": "string"
          },
          "contact_email": {
            "title": "Contact Email",
            "type": "string"
          },
          "schema_version": {
            "title": "Schema Version",
            "type": "string"
          },
          "name_for_model": {
            "title": "Name For Model",
            "type": "string"
          },
          "name_for_human": {
            "title": "Name For Human",
            "type": "string"
          },
          "description_for_model": {
            "title": "Description For Model",
            "type": "string"
          },
          "description_for_human": {
            "title": "Description For Human",
            "type": "string"
          },
          "legal_info_url": {
            "title": "Legal Info Url",
            "type": "string"
          }
        }
      },
      "categories": {
        "title": "Categories",
        "type": "array",
        "items": {
          "title": "OpenAIChatPluginCategory",
          "type": "object",
          "properties": {
            "id": {
              "title": "Id",
              "type": "string"
            },
            "title": {
              "title": "Title",
              "type": "string"
            }
          }
        }
      },
      "domain": {
        "title": "Domain",
        "type": "string"
      },
      "status": {
        "title": "Status",
        "anyOf": [
          {
            "enum": [
              "approved"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "user_settings": {
        "title": "User Settings",
        "type": "object",
        "additionalProperties": {
          "type": "string"
        }
      },
      "oauth_client_id": {
        "title": "Oauth Client Id",
        "type": "string"
      }
    }
  },
  "OpenAIChatPluginCategory": {
    "title": "OpenAIChatPluginCategory",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "string"
      },
      "title": {
        "title": "Title",
        "type": "string"
      }
    }
  },
  "OpenAIChatPluginManifest": {
    "title": "OpenAIChatPluginManifest",
    "type": "object",
    "properties": {
      "api": {
        "title": "Api",
        "type": "object"
      },
      "auth": {
        "title": "Auth",
        "type": "object"
      },
      "logo_url": {
        "title": "Logo Url",
        "type": "string"
      },
      "contact_email": {
        "title": "Contact Email",
        "type": "string"
      },
      "schema_version": {
        "title": "Schema Version",
        "type": "string"
      },
      "name_for_model": {
        "title": "Name For Model",
        "type": "string"
      },
      "name_for_human": {
        "title": "Name For Human",
        "type": "string"
      },
      "description_for_model": {
        "title": "Description For Model",
        "type": "string"
      },
      "description_for_human": {
        "title": "Description For Human",
        "type": "string"
      },
      "legal_info_url": {
        "title": "Legal Info Url",
        "type": "string"
      }
    }
  },
  "OpenAIChatPluginUserSettings": {
    "title": "OpenAIChatPluginUserSettings",
    "type": "object",
    "properties": {
      "is_authenticated": {
        "title": "Is Authenticated",
        "type": "boolean"
      },
      "is_installed": {
        "title": "Is Installed",
        "type": "boolean"
      }
    }
  },
  "OpenAIChatResponseUsage": {
    "title": "OpenAIChatResponseUsage",
    "type": "object",
    "properties": {
      "prompt_tokens": {
        "title": "Prompt Tokens",
        "type": "integer"
      },
      "completion_tokens": {
        "title": "Completion Tokens",
        "type": "integer"
      }
    }
  },
  "RequestStatistics": {
    "title": "RequestStatistics",
    "required": [
      "request_counts_interval",
      "request_counts",
      "ask_records"
    ],
    "type": "object",
    "properties": {
      "request_counts_interval": {
        "title": "Request Counts Interval",
        "type": "integer"
      },
      "request_counts": {
        "title": "Request Counts",
        "type": "object",
        "additionalProperties": {
          "type": "array",
          "items": {}
        }
      },
      "ask_records": {
        "title": "Ask Records",
        "type": "array",
        "items": {}
      }
    }
  },
  "RevChatGPTSetting": {
    "title": "RevChatGPTSetting",
    "type": "object",
    "properties": {
      "is_plus_account": {
        "title": "Is Plus Account",
        "type": "boolean",
        "default": false
      },
      "chatgpt_base_url": {
        "title": "Chatgpt Base Url",
        "type": "string"
      },
      "ask_timeout": {
        "title": "Ask Timeout",
        "minimum": 1,
        "type": "integer",
        "default": 600
      }
    }
  },
  "RevChatMessageMetadata": {
    "title": "RevChatMessageMetadata",
    "type": "object",
    "properties": {
      "finish_details": {
        "title": "Finish Details",
        "type": "object"
      },
      "weight": {
        "title": "Weight",
        "type": "number"
      },
      "end_turn": {
        "title": "End Turn",
        "type": "boolean"
      },
      "status": {
        "title": "Status",
        "type": "string"
      },
      "recipient": {
        "title": "Recipient",
        "anyOf": [
          {
            "enum": [
              "all"
            ],
            "type": "string"
          },
          {
            "type": "string"
          }
        ]
      },
      "invoked_plugin": {
        "title": "RevChatMessageMetadataPlugin",
        "type": "object",
        "properties": {
          "http_response_status": {
            "title": "Http Response Status",
            "type": "integer"
          },
          "namespace": {
            "title": "Namespace",
            "type": "string"
          },
          "plugin_id": {
            "title": "Plugin Id",
            "type": "string"
          },
          "type": {
            "title": "Type",
            "type": "string"
          }
        }
      }
    }
  },
  "RevChatMessageMetadataPlugin": {
    "title": "RevChatMessageMetadataPlugin",
    "type": "object",
    "properties": {
      "http_response_status": {
        "title": "Http Response Status",
        "type": "integer"
      },
      "namespace": {
        "title": "Namespace",
        "type": "string"
      },
      "plugin_id": {
        "title": "Plugin Id",
        "type": "string"
      },
      "type": {
        "title": "Type",
        "type": "string"
      }
    }
  },
  "RevChatModels": {
    "title": "RevChatModels",
    "enum": [
      "gpt_3_5",
      "gpt_4",
      "gpt_4_browsing",
      "gpt_4_plugins"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "RevChatStatus": {
    "title": "RevChatStatus",
    "enum": [
      "asking",
      "queueing",
      "idling"
    ],
    "type": "string",
    "description": "An enumeration."
  },
  "RevConversationHistoryExtra": {
    "title": "RevConversationHistoryExtra",
    "type": "object",
    "properties": {
      "moderation_results": {
        "title": "Moderation Results",
        "type": "array",
        "items": {}
      },
      "plugin_ids": {
        "title": "Plugin Ids",
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    }
  },
  "RevConversationSchema": {
    "title": "RevConversationSchema",
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer",
        "default": -1
      },
      "type": {
        "title": "Type",
        "enum": [
          "rev"
        ],
        "type": "string",
        "default": "rev"
      },
      "conversation_id": {
        "title": "Conversation Id",
        "type": "string",
        "format": "uuid"
      },
      "title": {
        "title": "Title",
        "type": "string"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "is_valid": {
        "title": "Is Valid",
        "type": "boolean",
        "default": true
      },
      "current_model": {
        "title": "Current Model",
        "type": "string"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "update_time": {
        "title": "Update Time",
        "type": "string",
        "format": "date-time"
      }
    }
  },
  "RevPerModelAskCount": {
    "title": "RevPerModelAskCount",
    "required": [
      "gpt_3_5",
      "gpt_4",
      "gpt_4_browsing"
    ],
    "type": "object",
    "properties": {
      "gpt_3_5": {
        "title": "Gpt 3 5",
        "type": "integer"
      },
      "gpt_4": {
        "title": "Gpt 4",
        "type": "integer"
      },
      "gpt_4_browsing": {
        "title": "Gpt 4 Browsing",
        "type": "integer"
      }
    }
  },
  "RevSourceSettingSchema": {
    "title": "RevSourceSettingSchema",
    "required": [
      "allow_to_use",
      "max_conv_count",
      "total_ask_count",
      "rate_limits",
      "daily_available_time_slots",
      "available_models",
      "per_model_ask_count"
    ],
    "type": "object",
    "properties": {
      "allow_to_use": {
        "title": "Allow To Use",
        "type": "boolean"
      },
      "valid_until": {
        "title": "Valid Until",
        "type": "string",
        "format": "date-time"
      },
      "max_conv_count": {
        "title": "Max Conv Count",
        "type": "integer"
      },
      "total_ask_count": {
        "title": "Total Ask Count",
        "type": "integer"
      },
      "rate_limits": {
        "title": "Rate Limits",
        "type": "array",
        "items": {
          "title": "TimeWindowRateLimit",
          "required": [
            "window_seconds",
            "max_requests"
          ],
          "type": "object",
          "properties": {
            "window_seconds": {
              "title": "Window Seconds",
              "type": "integer",
              "description": "时间窗口大小，单位为秒"
            },
            "max_requests": {
              "title": "Max Requests",
              "type": "integer",
              "description": "在给定时间窗口内最多的请求次数"
            }
          }
        }
      },
      "daily_available_time_slots": {
        "title": "Daily Available Time Slots",
        "type": "array",
        "items": {
          "title": "DailyTimeSlot",
          "required": [
            "start_time",
            "end_time"
          ],
          "type": "object",
          "properties": {
            "start_time": {
              "title": "Start Time",
              "type": "string",
              "description": "每天可使用的开始时间",
              "format": "time"
            },
            "end_time": {
              "title": "End Time",
              "type": "string",
              "description": "每天可使用的结束时间",
              "format": "time"
            }
          }
        }
      },
      "available_models": {
        "type": "array",
        "items": {
          "title": "RevChatModels",
          "enum": [
            "gpt_3_5",
            "gpt_4",
            "gpt_4_browsing",
            "gpt_4_plugins"
          ],
          "type": "string",
          "description": "An enumeration."
        }
      },
      "per_model_ask_count": {
        "title": "RevPerModelAskCount",
        "required": [
          "gpt_3_5",
          "gpt_4",
          "gpt_4_browsing"
        ],
        "type": "object",
        "properties": {
          "gpt_3_5": {
            "title": "Gpt 3 5",
            "type": "integer"
          },
          "gpt_4": {
            "title": "Gpt 4",
            "type": "integer"
          },
          "gpt_4_browsing": {
            "title": "Gpt 4 Browsing",
            "type": "integer"
          }
        }
      }
    }
  },
  "ServerStatusSchema": {
    "title": "ServerStatusSchema",
    "type": "object",
    "properties": {
      "active_user_in_5m": {
        "title": "Active User In 5M",
        "type": "integer"
      },
      "active_user_in_1h": {
        "title": "Active User In 1H",
        "type": "integer"
      },
      "active_user_in_1d": {
        "title": "Active User In 1D",
        "type": "integer"
      },
      "is_chatbot_busy": {
        "title": "Is Chatbot Busy",
        "type": "boolean"
      },
      "chatbot_waiting_count": {
        "title": "Chatbot Waiting Count",
        "type": "integer"
      }
    }
  },
  "StatsSetting": {
    "title": "StatsSetting",
    "type": "object",
    "properties": {
      "request_counter_time_window": {
        "title": "Request Counter Time Window",
        "type": "integer",
        "default": 2592000
      },
      "request_counts_interval": {
        "title": "Request Counts Interval",
        "type": "integer",
        "default": 1800
      },
      "ask_log_time_window": {
        "title": "Ask Log Time Window",
        "type": "integer",
        "default": 604800
      }
    }
  },
  "SystemInfo": {
    "title": "SystemInfo",
    "required": [
      "startup_time",
      "total_user_count",
      "total_conversation_count",
      "valid_conversation_count"
    ],
    "type": "object",
    "properties": {
      "startup_time": {
        "title": "Startup Time",
        "type": "number"
      },
      "total_user_count": {
        "title": "Total User Count",
        "type": "integer"
      },
      "total_conversation_count": {
        "title": "Total Conversation Count",
        "type": "integer"
      },
      "valid_conversation_count": {
        "title": "Valid Conversation Count",
        "type": "integer"
      }
    }
  },
  "TimeWindowRateLimit": {
    "title": "TimeWindowRateLimit",
    "required": [
      "window_seconds",
      "max_requests"
    ],
    "type": "object",
    "properties": {
      "window_seconds": {
        "title": "Window Seconds",
        "type": "integer",
        "description": "时间窗口大小，单位为秒"
      },
      "max_requests": {
        "title": "Max Requests",
        "type": "integer",
        "description": "在给定时间窗口内最多的请求次数"
      }
    }
  },
  "UserCreate": {
    "title": "UserCreate",
    "required": [
      "email",
      "password",
      "username",
      "nickname"
    ],
    "type": "object",
    "properties": {
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "password": {
        "title": "Password",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean",
        "default": true
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean",
        "default": false
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean",
        "default": false
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    }
  },
  "UserRead": {
    "title": "UserRead",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "rev_chat_status",
      "create_time",
      "setting"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "rev_chat_status": {
        "title": "RevChatStatus",
        "enum": [
          "asking",
          "queueing",
          "idling"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "last_active_time": {
        "title": "Last Active Time",
        "type": "string",
        "format": "date-time"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "setting": {
        "title": "UserSettingSchema",
        "required": [
          "credits",
          "rev",
          "api"
        ],
        "type": "object",
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "user_id": {
            "title": "User Id",
            "type": "integer"
          },
          "credits": {
            "title": "Credits",
            "type": "number"
          },
          "rev": {
            "title": "RevSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "RevChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4",
                    "gpt_4_browsing",
                    "gpt_4_plugins"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "RevPerModelAskCount",
                "required": [
                  "gpt_3_5",
                  "gpt_4",
                  "gpt_4_browsing"
                ],
                "type": "object",
                "properties": {
                  "gpt_3_5": {
                    "title": "Gpt 3 5",
                    "type": "integer"
                  },
                  "gpt_4": {
                    "title": "Gpt 4",
                    "type": "integer"
                  },
                  "gpt_4_browsing": {
                    "title": "Gpt 4 Browsing",
                    "type": "integer"
                  }
                }
              }
            }
          },
          "api": {
            "title": "ApiSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "ApiChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "ApiPerModelAskCount",
                "required": [
                  "gpt_3_5",
                  "gpt_4"
                ],
                "type": "object",
                "properties": {
                  "gpt_3_5": {
                    "title": "Gpt 3 5",
                    "type": "integer"
                  },
                  "gpt_4": {
                    "title": "Gpt 4",
                    "type": "integer"
                  }
                }
              },
              "allow_custom_openai_api": {
                "title": "Allow Custom Openai Api",
                "type": "boolean"
              },
              "custom_openai_api_settings": {
                "title": "CustomOpenaiApiSettings",
                "type": "object",
                "properties": {
                  "url": {
                    "title": "Url",
                    "type": "string"
                  },
                  "key": {
                    "title": "Key",
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    "description": "Base User model."
  },
  "UserReadAdmin": {
    "title": "UserReadAdmin",
    "required": [
      "id",
      "email",
      "is_active",
      "is_superuser",
      "is_verified",
      "username",
      "nickname",
      "rev_chat_status",
      "create_time",
      "setting"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "email": {
        "title": "Email",
        "type": "string",
        "format": "email"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "rev_chat_status": {
        "title": "RevChatStatus",
        "enum": [
          "asking",
          "queueing",
          "idling"
        ],
        "type": "string",
        "description": "An enumeration."
      },
      "last_active_time": {
        "title": "Last Active Time",
        "type": "string",
        "format": "date-time"
      },
      "create_time": {
        "title": "Create Time",
        "type": "string",
        "format": "date-time"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "setting": {
        "title": "UserSettingSchema",
        "required": [
          "credits",
          "rev",
          "api"
        ],
        "type": "object",
        "properties": {
          "id": {
            "title": "Id",
            "type": "integer"
          },
          "user_id": {
            "title": "User Id",
            "type": "integer"
          },
          "credits": {
            "title": "Credits",
            "type": "number"
          },
          "rev": {
            "title": "RevSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "RevChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4",
                    "gpt_4_browsing",
                    "gpt_4_plugins"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "RevPerModelAskCount",
                "required": [
                  "gpt_3_5",
                  "gpt_4",
                  "gpt_4_browsing"
                ],
                "type": "object",
                "properties": {
                  "gpt_3_5": {
                    "title": "Gpt 3 5",
                    "type": "integer"
                  },
                  "gpt_4": {
                    "title": "Gpt 4",
                    "type": "integer"
                  },
                  "gpt_4_browsing": {
                    "title": "Gpt 4 Browsing",
                    "type": "integer"
                  }
                }
              }
            }
          },
          "api": {
            "title": "ApiSourceSettingSchema",
            "required": [
              "allow_to_use",
              "max_conv_count",
              "total_ask_count",
              "rate_limits",
              "daily_available_time_slots",
              "available_models",
              "per_model_ask_count",
              "allow_custom_openai_api",
              "custom_openai_api_settings"
            ],
            "type": "object",
            "properties": {
              "allow_to_use": {
                "title": "Allow To Use",
                "type": "boolean"
              },
              "valid_until": {
                "title": "Valid Until",
                "type": "string",
                "format": "date-time"
              },
              "max_conv_count": {
                "title": "Max Conv Count",
                "type": "integer"
              },
              "total_ask_count": {
                "title": "Total Ask Count",
                "type": "integer"
              },
              "rate_limits": {
                "title": "Rate Limits",
                "type": "array",
                "items": {
                  "title": "TimeWindowRateLimit",
                  "required": [
                    "window_seconds",
                    "max_requests"
                  ],
                  "type": "object",
                  "properties": {
                    "window_seconds": {
                      "title": "Window Seconds",
                      "type": "integer",
                      "description": "时间窗口大小，单位为秒"
                    },
                    "max_requests": {
                      "title": "Max Requests",
                      "type": "integer",
                      "description": "在给定时间窗口内最多的请求次数"
                    }
                  }
                }
              },
              "daily_available_time_slots": {
                "title": "Daily Available Time Slots",
                "type": "array",
                "items": {
                  "title": "DailyTimeSlot",
                  "required": [
                    "start_time",
                    "end_time"
                  ],
                  "type": "object",
                  "properties": {
                    "start_time": {
                      "title": "Start Time",
                      "type": "string",
                      "description": "每天可使用的开始时间",
                      "format": "time"
                    },
                    "end_time": {
                      "title": "End Time",
                      "type": "string",
                      "description": "每天可使用的结束时间",
                      "format": "time"
                    }
                  }
                }
              },
              "available_models": {
                "type": "array",
                "items": {
                  "title": "ApiChatModels",
                  "enum": [
                    "gpt_3_5",
                    "gpt_4"
                  ],
                  "type": "string",
                  "description": "An enumeration."
                }
              },
              "per_model_ask_count": {
                "title": "ApiPerModelAskCount",
                "required": [
                  "gpt_3_5",
                  "gpt_4"
                ],
                "type": "object",
                "properties": {
                  "gpt_3_5": {
                    "title": "Gpt 3 5",
                    "type": "integer"
                  },
                  "gpt_4": {
                    "title": "Gpt 4",
                    "type": "integer"
                  }
                }
              },
              "allow_custom_openai_api": {
                "title": "Allow Custom Openai Api",
                "type": "boolean"
              },
              "custom_openai_api_settings": {
                "title": "CustomOpenaiApiSettings",
                "type": "object",
                "properties": {
                  "url": {
                    "title": "Url",
                    "type": "string"
                  },
                  "key": {
                    "title": "Key",
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    },
    "description": "Base User model."
  },
  "UserSettingSchema": {
    "title": "UserSettingSchema",
    "required": [
      "credits",
      "rev",
      "api"
    ],
    "type": "object",
    "properties": {
      "id": {
        "title": "Id",
        "type": "integer"
      },
      "user_id": {
        "title": "User Id",
        "type": "integer"
      },
      "credits": {
        "title": "Credits",
        "type": "number"
      },
      "rev": {
        "title": "RevSourceSettingSchema",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count"
        ],
        "type": "object",
        "properties": {
          "allow_to_use": {
            "title": "Allow To Use",
            "type": "boolean"
          },
          "valid_until": {
            "title": "Valid Until",
            "type": "string",
            "format": "date-time"
          },
          "max_conv_count": {
            "title": "Max Conv Count",
            "type": "integer"
          },
          "total_ask_count": {
            "title": "Total Ask Count",
            "type": "integer"
          },
          "rate_limits": {
            "title": "Rate Limits",
            "type": "array",
            "items": {
              "title": "TimeWindowRateLimit",
              "required": [
                "window_seconds",
                "max_requests"
              ],
              "type": "object",
              "properties": {
                "window_seconds": {
                  "title": "Window Seconds",
                  "type": "integer",
                  "description": "时间窗口大小，单位为秒"
                },
                "max_requests": {
                  "title": "Max Requests",
                  "type": "integer",
                  "description": "在给定时间窗口内最多的请求次数"
                }
              }
            }
          },
          "daily_available_time_slots": {
            "title": "Daily Available Time Slots",
            "type": "array",
            "items": {
              "title": "DailyTimeSlot",
              "required": [
                "start_time",
                "end_time"
              ],
              "type": "object",
              "properties": {
                "start_time": {
                  "title": "Start Time",
                  "type": "string",
                  "description": "每天可使用的开始时间",
                  "format": "time"
                },
                "end_time": {
                  "title": "End Time",
                  "type": "string",
                  "description": "每天可使用的结束时间",
                  "format": "time"
                }
              }
            }
          },
          "available_models": {
            "type": "array",
            "items": {
              "title": "RevChatModels",
              "enum": [
                "gpt_3_5",
                "gpt_4",
                "gpt_4_browsing",
                "gpt_4_plugins"
              ],
              "type": "string",
              "description": "An enumeration."
            }
          },
          "per_model_ask_count": {
            "title": "RevPerModelAskCount",
            "required": [
              "gpt_3_5",
              "gpt_4",
              "gpt_4_browsing"
            ],
            "type": "object",
            "properties": {
              "gpt_3_5": {
                "title": "Gpt 3 5",
                "type": "integer"
              },
              "gpt_4": {
                "title": "Gpt 4",
                "type": "integer"
              },
              "gpt_4_browsing": {
                "title": "Gpt 4 Browsing",
                "type": "integer"
              }
            }
          }
        }
      },
      "api": {
        "title": "ApiSourceSettingSchema",
        "required": [
          "allow_to_use",
          "max_conv_count",
          "total_ask_count",
          "rate_limits",
          "daily_available_time_slots",
          "available_models",
          "per_model_ask_count",
          "allow_custom_openai_api",
          "custom_openai_api_settings"
        ],
        "type": "object",
        "properties": {
          "allow_to_use": {
            "title": "Allow To Use",
            "type": "boolean"
          },
          "valid_until": {
            "title": "Valid Until",
            "type": "string",
            "format": "date-time"
          },
          "max_conv_count": {
            "title": "Max Conv Count",
            "type": "integer"
          },
          "total_ask_count": {
            "title": "Total Ask Count",
            "type": "integer"
          },
          "rate_limits": {
            "title": "Rate Limits",
            "type": "array",
            "items": {
              "title": "TimeWindowRateLimit",
              "required": [
                "window_seconds",
                "max_requests"
              ],
              "type": "object",
              "properties": {
                "window_seconds": {
                  "title": "Window Seconds",
                  "type": "integer",
                  "description": "时间窗口大小，单位为秒"
                },
                "max_requests": {
                  "title": "Max Requests",
                  "type": "integer",
                  "description": "在给定时间窗口内最多的请求次数"
                }
              }
            }
          },
          "daily_available_time_slots": {
            "title": "Daily Available Time Slots",
            "type": "array",
            "items": {
              "title": "DailyTimeSlot",
              "required": [
                "start_time",
                "end_time"
              ],
              "type": "object",
              "properties": {
                "start_time": {
                  "title": "Start Time",
                  "type": "string",
                  "description": "每天可使用的开始时间",
                  "format": "time"
                },
                "end_time": {
                  "title": "End Time",
                  "type": "string",
                  "description": "每天可使用的结束时间",
                  "format": "time"
                }
              }
            }
          },
          "available_models": {
            "type": "array",
            "items": {
              "title": "ApiChatModels",
              "enum": [
                "gpt_3_5",
                "gpt_4"
              ],
              "type": "string",
              "description": "An enumeration."
            }
          },
          "per_model_ask_count": {
            "title": "ApiPerModelAskCount",
            "required": [
              "gpt_3_5",
              "gpt_4"
            ],
            "type": "object",
            "properties": {
              "gpt_3_5": {
                "title": "Gpt 3 5",
                "type": "integer"
              },
              "gpt_4": {
                "title": "Gpt 4",
                "type": "integer"
              }
            }
          },
          "allow_custom_openai_api": {
            "title": "Allow Custom Openai Api",
            "type": "boolean"
          },
          "custom_openai_api_settings": {
            "title": "CustomOpenaiApiSettings",
            "type": "object",
            "properties": {
              "url": {
                "title": "Url",
                "type": "string"
              },
              "key": {
                "title": "Key",
                "type": "string"
              }
            }
          }
        }
      }
    }
  },
  "UserUpdate": {
    "title": "UserUpdate",
    "type": "object",
    "properties": {
      "password": {
        "title": "Password",
        "type": "string"
      },
      "email": {
        "title": "Email",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      }
    }
  },
  "UserUpdateAdmin": {
    "title": "UserUpdateAdmin",
    "type": "object",
    "properties": {
      "password": {
        "title": "Password",
        "type": "string"
      },
      "email": {
        "title": "Email",
        "type": "string"
      },
      "is_active": {
        "title": "Is Active",
        "type": "boolean"
      },
      "is_superuser": {
        "title": "Is Superuser",
        "type": "boolean"
      },
      "is_verified": {
        "title": "Is Verified",
        "type": "boolean"
      },
      "nickname": {
        "title": "Nickname",
        "type": "string"
      },
      "avatar": {
        "title": "Avatar",
        "type": "string"
      },
      "username": {
        "title": "Username",
        "type": "string"
      },
      "remark": {
        "title": "Remark",
        "type": "string"
      }
    }
  },
  "ValidationError": {
    "title": "ValidationError",
    "required": [
      "loc",
      "msg",
      "type"
    ],
    "type": "object",
    "properties": {
      "loc": {
        "title": "Location",
        "type": "array",
        "items": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            }
          ]
        }
      },
      "msg": {
        "title": "Message",
        "type": "string"
      },
      "type": {
        "title": "Error Type",
        "type": "string"
      }
    }
  }
}